"use strict";var express=require("express"),router=express.Router(),mongo=require("mongodb").MongoClient,uniqueValidator=require("mongoose-unique-validator");function getPackages(a,t){mongo.connect(process.env.MONGO_URL,{useNewUrlParser:!0,useUnifiedTopology:!0},function(e,o){if(e)throw e;var r=o.db("userdata").collection("packages"),n={};a&&(n.packid=parseInt(a)),r.find(n).toArray(function(e,o){t(e,o)})})}router.get("/",function(e,r,o){getPackages(null,function(e,o){if(e)throw e;r.render("index",{mypackages:o})})}),router.get("/:packageid",function(e,r,o){var n=e.params.packageid;console.log(n),getPackages(n,function(e,o){if(e)throw e;r.render("index",{mypackages:o,isdetails:!0})})}),module.exports=router;
//# sourceMappingURL=index.min.js.map
