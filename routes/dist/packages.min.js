"use strict";var express=require("express"),router=express.Router(),mongo=require("mongodb").MongoClient,uniqueValidator=require("mongoose-unique-validator");function getPackages(t,n){mongo.connect(MONGO_URL,{useNewUrlParser:!0,useUnifiedTopology:!0},function(e,r){if(e)throw e;var o=r.db("userdata").collection("packages"),a={};t&&(a.packid=parseInt(t)),o.find(a).toArray(function(e,r){n(e,r)})})}router.get("/",function(e,o,r){getPackages(null,function(e,r){if(e)throw e;o.render("packages",{mypackages:r})})}),router.get("/details/:packid",function(e,o,r){getPackages(e.params.packid,function(e,r){if(e)throw e;o.render("packages",{mypackages:r,isdetails:!0})})}),module.exports=router;
//# sourceMappingURL=packages.min.js.map
