"use strict";var express=require("express"),router=express.Router(),mongo=require("mongodb").MongoClient,uniqueValidator=require("mongoose-unique-validator");function getPackages(n,t){mongo.connect(process.env.MONGO_URL,{useNewUrlParser:!0,useUnifiedTopology:!0},function(e,o){if(e)throw e;var r=o.db("userdata").collection("packages"),a={};n&&(a.packid=parseInt(n)),r.find(a).toArray(function(e,o){t(e,o)})})}router.get("/",function(e,r,o){getPackages(null,function(e,o){if(e)throw e;r.render("packages",{mypackages:o})})}),console.log("hello"),router.get("/details/:packid",function(e,r,o){var a=e.params.packid;console.log(a),getPackages(a,function(e,o){if(e)throw e;r.render("packages",{mypackages:o,isdetails:!0})})}),module.exports=router;
//# sourceMappingURL=packages.min.js.map
